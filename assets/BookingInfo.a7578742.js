import{V as e,n,m as _,f as g}from"./index.f9e91296.js";const k=e.extend({name:"ModalWindow",props:{show:{type:Boolean,required:!0,default:!1},title:{type:String,default:""}},mounted(){document.body.classList.add("has-modal")},beforeDestroy(){document.body.classList.remove("has-modal")}});var a=function(){var t=this,o=t._self._c;return t._self._setupProxy,o("transition",{attrs:{name:"is"}},[t.show?o("div",{staticClass:"ModalWindow",on:{click:function(i){return i.target!==i.currentTarget?null:t.$emit("close")}}},[o("div",{staticClass:"ModalWindow-container"},[o("div",{staticClass:"ModalWindow-header"},[t._t("header",function(){return[o("h3",[t._v(t._s(t.title))])]}),o("button",{staticClass:"ModalWindow-close",on:{click:function(i){return t.$emit("close")}}},[t._v("\xD7")])],2),o("div",{staticClass:"ModalWindow-body"},[t._t("default")],2)])]):t._e()])},p=[];a._withStripped=!0;var r=n(k,a,p,!1,null,null,null,null);r.options.__file="/home/esteban/projects/roadsurfer/src/components/modal-window/ModalWindow.vue";const m=r.exports,f=e.extend({name:"BookingDetails",components:{ModalWindow:m},props:{stationId:{type:String,required:!0},bookingId:{type:String,required:!0}},data(){return{isModalOpen:!1}},computed:{selectedStation(){return this.$store.state.stations.selectedStation},booking(){return this.$store.state.bookings.selectedBooking},loading(){return this.$store.state.bookings.loading},error(){return this.$store.state.bookings.error}},mounted(){this.isModalOpen=!0,this.fetchBookingDetails()},methods:{..._("bookings",["fetchBookingByStation","clearSelectedBooking"]),fetchBookingDetails(){!this.bookingId||!this.stationId||this.fetchBookingByStation({stationId:this.stationId,bookingId:this.bookingId})},formatDate(s){try{return g(new Date(s),"PPP")}catch(t){return s}},closeModal(){this.clearSelectedBooking(),this.$router.push({path:"/"})}}});var l=function(){var t=this,o=t._self._c;return t._self._setupProxy,o("ModalWindow",{attrs:{show:t.isModalOpen,title:"Booking Details"},on:{close:t.closeModal}},[o("div",{staticClass:"BookingDetails"},[t.loading?o("div",{staticClass:"BookingDetails-statusMessage is-loading"},[t._v(" Loading booking details... ")]):t.error?o("div",{staticClass:"BookingDetails-statusMessage is-error"},[t._v(" "+t._s(t.error)+" ")]):t.booking?o("dl",{staticClass:"BookingDetails-content"},[o("div",{staticClass:"BookingDetails-group"},[o("dt",{staticClass:"BookingDetails-term"},[t._v("Booking ID:")]),o("dd",{staticClass:"BookingDetails-description"},[t._v(t._s(t.booking.id))])]),o("div",{staticClass:"BookingDetails-group"},[o("dt",{staticClass:"BookingDetails-term"},[t._v("Customer:")]),o("dd",{staticClass:"BookingDetails-description"},[t._v(t._s(t.booking.customerName))])]),o("div",{staticClass:"BookingDetails-group"},[o("dt",{staticClass:"BookingDetails-term"},[t._v("Station ID:")]),o("dd",{staticClass:"BookingDetails-description"},[t._v(" "+t._s(t.booking.pickupReturnStationId)+" ")])]),o("div",{staticClass:"BookingDetails-group"},[o("dt",{staticClass:"BookingDetails-term"},[t._v("Station name:")]),o("dd",{staticClass:"BookingDetails-description"},[t._v(" "+t._s(t.booking.pickupReturnStationName)+" ")])]),o("div",{staticClass:"BookingDetails-group"},[o("dt",{staticClass:"BookingDetails-term"},[t._v("Start date:")]),o("dd",{staticClass:"BookingDetails-description"},[t._v(" "+t._s(t.formatDate(t.booking.startDate))+" ")])]),o("div",{staticClass:"BookingDetails-group"},[o("dt",{staticClass:"BookingDetails-term"},[t._v("End date:")]),o("dd",{staticClass:"BookingDetails-description"},[t._v(" "+t._s(t.formatDate(t.booking.endDate))+" ")])])]):o("div",{staticClass:"BookingDetails-statusMessage is-empty"},[t._v(" No booking information available. ")])])])},v=[];l._withStripped=!0;var d=n(f,l,v,!1,null,null,null,null);d.options.__file="/home/esteban/projects/roadsurfer/src/components/booking-details/BookingDetails.vue";const B=d.exports,h=e.extend({name:"BookingInfo",components:{BookingDetails:B},computed:{stationId(){return this.$route.params.stationId||""},bookingId(){return this.$route.params.bookingId||""}}});var c=function(){var t=this,o=t._self._c;return t._self._setupProxy,o("div",{staticClass:"BookingInfo"},[o("BookingDetails",{attrs:{"station-id":t.stationId,"booking-id":t.bookingId}})],1)},D=[];c._withStripped=!0;var u=n(h,c,D,!1,null,null,null,null);u.options.__file="/home/esteban/projects/roadsurfer/src/views/booking-info/BookingInfo.vue";const C=u.exports;export{C as default};
